
<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <title>Shop</title>
    <script src="js/modernizr.js" type="text/javascript"></script>
    <link rel="stylesheet prefetch" href="css/reset.css">
    <!-- Iconos -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet prefetch" href="css/main.css">

</head>

<body>
    <header>
        <div class="search">
            <input type="submit" value="&#xf002;" class="search-btn fa ib-m">
            <div class="search-slide ib-m">
        		<input type="text" placeholder="Enter your search" class="ib-m">
                <div class="search-close ib-m"><i class="fa fa-times"></i></div>
        	</div>

        </div>
        <div id="hamburger-menu"><a class="img-replace" href="#">Menu</a></div>
        <div id="cart-trigger"><a class="img-replace" href="#">Cart</a></div>
        <!-- Mega Menu -->
        <div class="mega-menu fadeIn animated" id="mega_menu">
            <div class="mm-3column">
                <span class="left-images">
                    <img  src="images/4.jpg">
                    <p><a href="#">Most Popular Styles </a></p>
                </span>
                </div>
                <div id="close-menu"><a class="img-replace" href="#">Menu</a></div>
                <div class="mm-3column">
                <span class="categories-list">
                    <span class="link"><i class="fa fa-mobile"></i>&nbsp;Computer</span>
                    <ul class="default submenu">
                        <li><a href="#">Desktops</a></li>
                        <li><a href="#">Laptops</a></li>
                        <li><a href="#">Tablets</a></li>
                        <li><a href="#">Monitors</a></li>
                        <li><a href="#">Networking Printers</a></li>
                        <li><a href="#">Scanners</a></li>
                        <li><a href="#">Jumpers & Cardigans</a></li>
                    </ul>
                </span>

            </div>
            <div class="mm-3column">
                <span class="categories-list">
                    <span class="link"><i class="fa fa-mobile"></i>&nbsp;TV & Video</span>
                    <ul class="default submenu">
                        <li><a href="#">LED TVs</a></li>
                        <li><a href="#">Plasma TVs</a></li>
                        <li><a href="#">3D TVs</a></li>
                        <li><a href="#">DVD & Blu-ray Players</a></li>
                        <li><a href="#">Home Theater Systems</a></li>
                        <li><a href="#">Cell Phones</a></li>
                        <li><a href="#">Apple iPhone</a></li>

                    </ul>
                </span>
            </div>
            <div class="mm-3column">
                <span class="categories-list">
                    <span class="link"><i class="fa fa-mobile"></i>&nbsp;Car Electronics</span>
                    <ul class="default submenu">
                        <li><a href="#">GPS & Navigation</a></li>
                        <li><a href="#">In-Dash Stereos</a></li>
                        <li><a href="#">Speakers</a></li>
                        <li><a href="#">Subwoofers</a></li>
                        <li><a href="#">Amplifiers</a></li>
                        <li><a href="#">MP3 Players</a></li>
                        <li><a href="#">iPods</a></li>
                    </ul>
            </span>
        </div>
    </div>
    <!-- Mega Menu -->
    </header>

    <nav id="main-nav">
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a class="current" href="#">Shop</a></li>
            <li class="drop-down"><a href="#">Catalog</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </nav>

<main>
        <ul id="gallery-items" class="container">
            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>

            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  <a href="#"></a>
              </figcaption><i><img src="images/cart.svg" /></i>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="product n" />
                  <figcaption>
                    <h3>Product Name</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>

            <li>
                <figure class="product">
                  <img src="images/2.jpg" alt="sample57" />
                  <figcaption>
                    <h3>Pudol Doux</h3>
                    <p>All this modern technology just makes people try to do everything at once.</p>
                    <div class="price">
                      <s>$24.00</s>$19.00
                    </div>
                    <span class="img-title">
                    <h5>Image Title1 - lorem ipsum lorem ipsum lorem ipsum</h5>
                    <article>lorem ipsum ut magna pharera aliquet non sodales lorem ipsum belit. Donec sed odio rera magna pharera aliquet</article>
                    <button>Add To Cart</button>
                </span>
                  </figcaption><i><img src="images/cart.svg" /></i>
                  <a href="#"></a>
                </figure>
            </li>
        </ul> <!-- cd-gallery-items -->
    </main>

    <div id="shadow-layer"></div>

    <div id="cart">
        <h2>Cart</h2>
        <ul class="cart-items">
            <li>
                <span class="qty">1x</span> Product Name
                <div class="price">$9.99</div>
                <a href="#0" class="item-remove img-replace">Remove</a>
            </li>

            <li>
                <span class="qty">2x</span> Product Name
                <div class="price">$19.98</div>
                <a href="#" class="item-remove img-replace">Remove</a>
            </li>

            <li>
                <span class="qty">1x</span> Product Name
                <div class="price">$9.99</div>
                <a href="#" class="item-remove img-replace">Remove</a>
            </li>
        </ul> <!-- cd-cart-items -->

        <div class="cart-total">
            <p>Total <span>$39.96</span></p>
        </div> <!-- cd-cart-total -->

        <a href="#" class="checkout-btn">Checkout</a>

        <p class="go-to-cart"><a href="#">Go to cart page</a></p>
    </div> <!-- cd-cart -->

<span class='Top'><i class='fa fa-chevron-up'></i></span>
<!-- / Product Templates for Shop & Cart -->
<script id="productTemplate" type="text/template">
  <figure class="product">
      <span></span>

  <figcaption>
  <h3></h3>
  <p></p>
  <div class="price">
    <s></s>
  </div>
  </figcaption><i><img src="images/cart.svg" /></i>
  <a href="#"></a>
  </figure>
</script>

<script src="js/jquery.min.js"></script>

<script>
$(document).ready(function () {
    var products = {
    "0": {
        "name": "Bow Tie",
        "description":  "These coasters roll all of the greatest qualities into one: class, leather, and octocats.",
        "price": 18,
        "oldprice": 20,
        "picture": "images/4.jpg"
    },
    "1": {
        "name": "Bow Tie",
        "description":  "These coasters roll all of the greatest qualities into one: class, leather, and octocats.",
        "price": 38,
        "oldprice": 40,
        "picture": "images/5.jpg"
        }
    };
    console.log(Object.keys(products).length);
    var menu_navigation = $('#main-nav'),
          $L = 900,
          cart_trigger = $('#cart-trigger'),
          hamburger_icon = $('#hamburger-menu'),
          cart = $('#cart'),
          shadow_layer = $('#shadow-layer');

    cart_trigger.on('click', function () {
        menu_navigation.removeClass('speed-in');
        toggle_panel_visibility(cart, shadow_layer, $('body'));
    });

    shadow_layer.on('click', function () {
        cart.removeClass('speed-in');
        menu_navigation.removeClass('speed-in');
        shadow_layer.removeClass('is-visible');
        $('body').removeClass('overflow-hidden');
    });

    hamburger_icon.on('click', function () {
        cart.removeClass('speed-in');
        toggle_panel_visibility(menu_navigation, shadow_layer, $('body'));
    });

    move_navigation(menu_navigation, $L);

    $(window).on('resize', function () {
        move_navigation(menu_navigation, $L);
        if ($(window).width() >= $L && menu_navigation.hasClass('speed-in')) {
            menu_navigation.removeClass('speed-in');
            shadow_layer.removeClass('is-visible');
            $('body').removeClass('overflow-hidden');
        }
    });

    function makeProduct(product){
        $template.find('span').html("<img src=" + product["picture"] + " />");
        $template.find('h3').text(product["name"]);
        $template.find('p').text(product["description"]);
        $template.find('s').text('$' + product["oldprice"]);
        $template.find('.price').append('$' + product["price"]);
    }

    for (var i=0; i<Object.keys(products).length; i++){
        var $template = $($('#productTemplate').html());
        makeProduct(products[i]);
        $("<li></li>").append($template).appendTo("#gallery-items");
    }

    $('.drop-down').on('click', function () {
        $('.mega-menu').toggleClass('speed-in');
    });

    $('#close-menu').on('click', function () {
        $('.mega-menu').removeClass('speed-in');
    });

    var searchBtn = '.search-btn', searchSlide = '.search-slide', searchTxt = '.search-slide input[type=text]', searchClose = '.search-close', searchSpeed = 300;
    $(searchBtn).click(function () {
        $(searchSlide).animate({ 'width': '15.5625em' }, searchSpeed);
        $(searchTxt).focus();
    });
    $(searchClose).click(function () {
        $(searchSlide).animate({ 'width': 0 }, searchSpeed);
    });

    $('.product').hover(function () {

        $('.img-title').find('h5, article, button').stop().animate({
            opacity: '1',
            marginLeft: '230px'
        }, 300);
    }, function () {
        $('.img-title').find('h5, article', 'button').stop().animate({
            opacity: '0',
            marginLeft: '0px'
        }, 100);
    });


    var Accordion = function (el, multiple) {
        this.el = el || {};
        this.multiple = multiple || false;
        var links = this.el.find('.link');
        links.on('click', {
            el: this.el,
            multiple: this.multiple
        }, this.dropdown);
    };
    Accordion.prototype.dropdown = function (e) {
        var $el = e.data.el;
        $this = $(this), $next = $this.next();
        $next.slideToggle();
        $this.parent().toggleClass('open');
        if (!e.data.multiple) {
            $el.find('.submenu').not($next).slideUp().parent().removeClass('open');
        }
        ;
    };
    var accordion = new Accordion($('#mega_menu'), false);

    $(window).scroll(function () {
        if ($(this).scrollTop() >= 500) {
            $('.Top').fadeIn();
        } else {
            $('.Top').fadeOut();
        }
    });
    $('.Top').click(function () {
        $('html,body').stop().animate({ scrollTop: 0 });
    });

});

function toggle_panel_visibility(panel, background_layer, body) {
    if (panel.hasClass('speed-in')) {
        panel.removeClass('speed-in');
        background_layer.removeClass('is-visible');
        body.removeClass('overflow-hidden');
    } else {
        panel.addClass('speed-in');
        background_layer.addClass('is-visible');
        body.addClass('overflow-hidden');
    }
}

function move_navigation(navigation, $MQ) {
    if ($(window).width() >= $MQ) {
        navigation.detach();
        navigation.appendTo('header');
    } else {
        navigation.detach();
        navigation.insertAfter('header');
    }
}

</script>
</body>
</html>
